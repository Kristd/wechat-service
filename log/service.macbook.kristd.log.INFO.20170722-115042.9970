Log file created at: 2017/07/22 11:50:42
Running on machine: macbook
Binary: Built with gc go1.8.1 for darwin/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0722 11:50:42.029368    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc42001a210} 0x127d360 21 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:50:42.165874    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:50:52.809995    9970 createHandler.go:41] >>> [SessionCreate] Request JSON Data = [&{1 [map[wlm_image:http://weixin.xoyo.com/award/images/logo.png keywords:[map[keyword:麻将 text:http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe image:http://weixin.xoyo.com/award/images/logo.png] map[keyword:打牌 text:关键词2号 image:]] nickname:测试 type:101 wlm_text:欢迎${username}，我是何厚铧] map[keywords:[map[keyword:麻将 text:双人麻将 image:http://weixin.xoyo.com/award/images/logo.png] map[text:关键词2号 image: keyword:打牌]] nickname: type:102 wlm_text:欢迎${username}，我是何厚铧 wlm_image:http://weixin.xoyo.com/award/images/logo.png]] 2}]
I0722 11:50:53.092581    9970 webwxapi.go:54] >>> [WebwxGetUuid] http response body = [window.QRLogin.code = 200; window.QRLogin.uuid = "waDR63ELPw==";]
I0722 11:50:53.092647    9970 createHandler.go:56] >>> [SessionCreate] UserID 2's uuid = waDR63ELPw== && qrcode = https://login.weixin.qq.com/qrcode/waDR63ELPw==
I0722 11:50:53.092804    9970 createHandler.go:136] >>> [InitSession] NickName [测试] , type = [101] keyword configs = [[{测试 101 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 0   []}]]
I0722 11:50:53.092879    9970 createHandler.go:136] >>> [InitSession] NickName [] , type = [102] keyword configs = [[{测试 101 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 102 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 双人麻将 http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]}]]
I0722 11:51:42.170091    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc4203de090} 0x127d360 21 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:51:42.298303    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:52:05.091967    9970 createHandler.go:41] >>> [SessionCreate] Request JSON Data = [&{1 [map[wlm_image:http://weixin.xoyo.com/award/images/logo.png keywords:[map[keyword:麻将 text:http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe image:http://weixin.xoyo.com/award/images/logo.png] map[keyword:打牌 text:关键词2号 image:]] nickname:测试 type:101 wlm_text:欢迎${username}，我是何厚铧] map[wlm_image:http://weixin.xoyo.com/award/images/logo.png keywords:[map[text:双人麻将 image:http://weixin.xoyo.com/award/images/logo.png keyword:麻将] map[image: keyword:打牌 text:关键词2号]] nickname: type:102 wlm_text:欢迎${username}，我是何厚铧]] 2}]
I0722 11:52:05.272755    9970 webwxapi.go:54] >>> [WebwxGetUuid] http response body = [window.QRLogin.code = 200; window.QRLogin.uuid = "wac9Uib6BA==";]
I0722 11:52:05.272801    9970 createHandler.go:56] >>> [SessionCreate] UserID 2's uuid = wac9Uib6BA== && qrcode = https://login.weixin.qq.com/qrcode/wac9Uib6BA==
I0722 11:52:05.272924    9970 createHandler.go:76] >>> [InitSession] Delete UserID 2's session
I0722 11:52:05.272968    9970 createHandler.go:136] >>> [InitSession] NickName [测试] , type = [101] keyword configs = [[{测试 101 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 0   []}]]
I0722 11:52:05.273048    9970 createHandler.go:136] >>> [InitSession] NickName [] , type = [102] keyword configs = [[{测试 101 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 102 欢迎${username}，我是何厚铧 http://weixin.xoyo.com/award/images/logo.png [{麻将 双人麻将 http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]}]]
I0722 11:52:30.544159    9970 loginHandler.go:37] >>> [LoginScan] Request JSON Data = [&{2 2}]
I0722 11:52:30.680033    9970 webwxapi.go:78] >>> [WebwxLogin] http response body = [window.code=200;
window.redirect_uri="https://wx.qq.com/cgi-bin/mmwebwx-bin/webwxnewloginpage?ticket=AQ5QX6K4oRxtqMd779Gjfeyp@qrticket_0&uuid=wac9Uib6BA==&lang=zh_CN&scan=1500695538";]
I0722 11:52:30.680154    9970 session.go:170] >>> [LoginPolling] sec3 WebwxLogin success, uuid = wac9Uib6BA==
I0722 11:52:30.927720    9970 webwxapi.go:111] >>> [WebNewLoginPage] http response body = [<error><ret>0</ret><message></message><skey>@crypt_d1ec4fe2_7fdc7fe62a892650ef12ee9abad41af7</skey><wxsid>7TnMixMxgq5yaJ5N</wxsid><wxuin>1836981980</wxuin><pass_ticket>FPIc9IdUnjXWP0fBnN0CJZtBKt%2Fsjlpt6d9p0ilwLdyALGoydsuO%2FeAbyXeZbAK%2F</pass_ticket><isgrayscale>1</isgrayscale></error>]
I0722 11:52:31.485290    9970 session.go:264] >>> [Serve] Serve start userID = 2
I0722 11:52:42.301941    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc420267410} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:52:42.426260    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:52:57.698107    9970 session.go:304] >>> [Serve] FromUser = [fmessage] Message Content = [&lt;msg fromusername="Kristd" encryptusername="v1_9873e527c4c8e9807aa83b357ae4c2f437b28d72452b11d8da7c6627e67cffa7@stranger" fromnickname="TJ" content="I&amp;apos;m TJ"  shortpy="TJ" imagestatus="3" scene="30" country="CN" province="Guangdong" city="Zhuhai" sign="" percard="1" sex="1" alias="" weibo="" weibonickname="" albumflag="3" albumstyle="0" albumbgimgid="" snsflag="49" snsbgimgid="http://mmsns.qpic.cn/mmsns/0I4HOdQXxYxIn6sHv7viapialFzJjFjGEyRHbDa1siafT916lHXxbWdpg/0" snsbgobjectid="11493203140388392974" mhash="5de2ae1dbb2e591dd8807616216d42e3" mfullhash="5de2ae1dbb2e591dd8807616216d42e3" bigheadimgurl="http://wx.qlogo.cn/mmhead/ver_1/0HTM0ibOFQN5AoLzrFgxAiapdbHFysQkK0SeX2urGFlgPJebM1vFFyXsJkFlJUJG65bCP0uVvHvyJpzVHO4cY6VA/0" smallheadimgurl="http://wx.qlogo.cn/mmhead/ver_1/0HTM0ibOFQN5AoLzrFgxAiapdbHFysQkK0SeX2urGFlgPJebM1vFFyXsJkFlJUJG65bCP0uVvHvyJpzVHO4cY6VA/132" ticket="v2_c1219c497a0a4a6298149c25aaa4f6c1a7468d6bc314ab01ae2138e30a9ae817a6f67ee9262eca2ab429baeb7bc51841@stranger" opcode="2" googlecontact="" qrticket="" chatroomusername="" sourceusername="" sourcenickname=""&gt;&lt;brandlist count="0" ver="654025187"&gt;&lt;/brandlist&gt;&lt;/msg&gt;] MessageType =[37] UserID = [2]
I0722 11:53:05.958909    9970 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "8219456129074735906",
"LocalID": "15006955850000"
}
]
I0722 11:53:05.959010    9970 session.go:457] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] text = [欢迎TJ，我是何厚铧]
I0722 11:53:06.586335    9970 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_b920b7cfa678aa2b61459a033146ebd2ca5b43f516b2cdadca30916ed676b995e590d129d6b81d4aaa35cc109bf933a61871e3bf3fee33737c6405bc4ca3060dd7d299edf06fdd010d1ef4f563cd3017ebeec83d71fd8895371c09e486e900d8f8cb69eb71087e83a79494a135dd30a97669687e875cb8bdc629574f0891f81cc6e20b99a5738e70be06e56198a4e7ca22aff0557be7387060a03a9c4b7c9589f21c4f7d551445107a1a08938e62ebb556db2c137bac277807e5f7b36911cc92413e387bd4c343f465b7354c6f6ff2987b01eb7c9863df8f7b3ba6122a17a884bf58393bc4c7a32ad4a1e2545c1ea462d47dd6b0c7443757b057c090252f4efecb118f45c8947b95304d6695dda17c240d2b913092e182b7d4b9675ebcdfdaa9d89c21397e8cfb19286bec42d829410831e19bd228566143160e9a4961917658",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 11:53:06.642563    9970 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "3439175865566304757",
"LocalID": "15006955860000"
}
]
I0722 11:53:06.642651    9970 session.go:457] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] text = [欢迎TJ，我是何厚铧]
I0722 11:53:06.837811    9970 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "5128840210779030036",
"LocalID": "15006955860000"
}
]
I0722 11:53:06.837912    9970 session.go:462] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 11:53:07.043223    9970 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_b920b7cfa678aa2b61459a033146ebd2ca5b43f516b2cdadca30916ed676b995e590d129d6b81d4aaa35cc109bf933a61871e3bf3fee33737c6405bc4ca3060dd7d299edf06fdd010d1ef4f563cd3017ebeec83d71fd8895371c09e486e900d8f8cb69eb71087e83a79494a135dd30a97669687e875cb8bdc629574f0891f81cc6e20b99a5738e70be06e56198a4e7ca22aff0557be7387060a03a9c4b7c9589f21c4f7d551445107a1a08938e62ebb556db2c137bac277807e5f7b36911cc92413e387bd4c343f465b7354c6f6ff2987b01eb7c9863df8f7b3ba6122a17a884bf58393bc4c7a32ad4a1e2545c1ea462d47dd6b0c7443757b057c090252f4efecb118f45c8947b95304d6695dda17c240d2b913092e182b7d4b9675ebcdfdaa9d89c21397e8cfb19286bec42d829410831e19bd228566143160e9a4961917658",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 11:53:07.312380    9970 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "7143259452608742444",
"LocalID": "15006955870000"
}
]
I0722 11:53:07.312469    9970 session.go:462] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 11:53:15.870354    9970 session.go:304] >>> [Serve] FromUser = [@0f37b22267ac35b07e8f977e4a4117a6] Message Content = [] MessageType =[51] UserID = [2]
I0722 11:53:42.426849    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc4203de720} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:53:42.555333    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:54:42.557437    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc42045b5c0} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:54:42.715117    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:55:42.719801    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc420344000} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:55:42.846491    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:56:42.851117    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc420369c80} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:56:42.981555    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:57:42.983752    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc420074e70} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:57:43.118991    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 11:58:43.123362    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc420075ec0} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:58:43.260334    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
E0722 11:59:41.636475    9970 session.go:356] [Serve] Session down, selector = 4, userID = 2
I0722 11:59:41.638583    9970 session.go:372] >>> [Serve] Serve stop userID = 2
I0722 11:59:43.263385    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc4203df320} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 11:59:43.414833    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
I0722 12:00:43.416408    9970 heartbeat.go:35] >>> [StatNotify] Heartbeat Start = [&{POST http://120.92.234.2:7652/api/go/wechat/online HTTP/1.1 1 1 map[Content-Type:[application/json; charset=utf-8]] {0xc42045a420} 0x127d360 22 [] false 120.92.234.2:7652 map[] map[] <nil> map[]   <nil> <nil> <nil> <nil>}]
I0722 12:00:43.569124    9970 heartbeat.go:42] >>> [StatNotify] Heartbeat End
