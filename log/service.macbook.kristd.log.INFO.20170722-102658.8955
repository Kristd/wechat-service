Log file created at: 2017/07/22 10:26:58
Running on machine: macbook
Binary: Built with gc go1.8.1 for darwin/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0722 10:26:58.222848    8955 createHandler.go:41] >>> [SessionCreate] Request JSON Data = [&{1 [map[nickname:测试 type:101 wlm_text:欢迎新人${username}入群 wlm_image:http://weixin.xoyo.com/award/images/logo.png keywords:[map[keyword:麻将 text:http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe image:http://weixin.xoyo.com/award/images/logo.png] map[text:关键词2号 image: keyword:打牌]]] map[wlm_text:你好朋友 wlm_image:http://weixin.xoyo.com/award/images/logo.png keywords:[map[keyword:麻将 text:双人麻将 image:http://weixin.xoyo.com/award/images/logo.png] map[text:关键词2号 image: keyword:打牌]] nickname: type:102]] 2}]
I0722 10:26:58.464367    8955 webwxapi.go:54] >>> [WebwxGetUuid] http response body = [window.QRLogin.code = 200; window.QRLogin.uuid = "wepeBtDjpw==";]
I0722 10:26:58.464401    8955 createHandler.go:56] >>> [SessionCreate] UserID 2's uuid = wepeBtDjpw== && qrcode = https://login.weixin.qq.com/qrcode/wepeBtDjpw==
I0722 10:26:58.464439    8955 createHandler.go:136] >>> [InitSession] NickName [测试] , type = [101] keyword configs = [[{测试 101 欢迎新人${username}入群 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 0   []}]]
I0722 10:26:58.464534    8955 createHandler.go:136] >>> [InitSession] NickName [] , type = [102] keyword configs = [[{测试 101 欢迎新人${username}入群 http://weixin.xoyo.com/award/images/logo.png [{麻将 http://qyq.xoyo.com/h5/download/?app_id=XYd0ogCwfB4wYCqdikYooVe http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]} { 102 你好朋友 http://weixin.xoyo.com/award/images/logo.png [{麻将 双人麻将 http://weixin.xoyo.com/award/images/logo.png} {打牌 关键词2号 }]}]]
I0722 10:27:26.582453    8955 loginHandler.go:37] >>> [LoginScan] Request JSON Data = [&{2 2}]
I0722 10:27:26.741662    8955 webwxapi.go:78] >>> [WebwxLogin] http response body = [window.code=200;
window.redirect_uri="https://wx.qq.com/cgi-bin/mmwebwx-bin/webwxnewloginpage?ticket=ASigkE6ju2gtgKz2uy-rB3wM@qrticket_0&uuid=wepeBtDjpw==&lang=zh_CN&scan=1500690434";]
I0722 10:27:26.741730    8955 session.go:170] >>> [LoginPolling] sec3 WebwxLogin success, uuid = wepeBtDjpw==
I0722 10:27:26.989824    8955 webwxapi.go:111] >>> [WebNewLoginPage] http response body = [<error><ret>0</ret><message></message><skey>@crypt_d1ec4fe2_d6add604a970e747ddc20c07bbf6cc79</skey><wxsid>KFOaz6BuzLZqTjJL</wxsid><wxuin>1836981980</wxuin><pass_ticket>Eae9kc6vktekidtprmKHzKhKnApcpgFpAU4RLSdOOfcqGhpHthWcOv7QAx9S1Mqw</pass_ticket><isgrayscale>1</isgrayscale></error>]
I0722 10:27:27.520316    8955 session.go:264] >>> [Serve] Serve start userID = 2
I0722 10:28:18.538070    8955 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "3536310867848136765",
"LocalID": "15006904980000"
}
]
I0722 10:28:18.538160    8955 session.go:486] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] text = [你好朋友]
I0722 10:28:19.130000    8955 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_548a395b0cfef84cd64d4a15f5b18854fc673009db0ca7bddec1c8a6210848122f185b8daa509f880c93239ea772797082300fe4d48b352f0dd706790613ca949c63378c3f4b0f7a8cb55ecebb786076ec82d01f4a8d02a532ee1991865bd722b1ff95127b2c3622de745e2773d2b40bd27a951ebfc69e730a489a018900065f4029a62b28a845a29f4865246fc702346f426261afe39a3082632d8d06c99b137739a352b4c33b87d01de608deda5c6ee2bbb49ef97fe1ab14b2870b0a4c2b9c9ca3d3d17de9966a1c3a5c24433e6dab80a374b4a64c0c9623c99392244dbf43978fe9ae3555734c257b65cd86e432d5e012fd4740ee0013a5b78b91738dfcdc368aae0fef3475e28824fa28a8f634d1f190eeb20deedb5b55b999e2a1ac4f6afc18334effa397eff6ed16dc1e5c2cb65d2fa4905b23f96dddc087aa13b955a9",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 10:28:19.367266    8955 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "860805998596802716",
"LocalID": "15006904990000"
}
]
I0722 10:28:19.367350    8955 session.go:491] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 10:29:40.903568    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
I0722 10:29:51.375570    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [&lt;?xml version="1.0"?&gt;<br/>&lt;msg&gt;<br/>	&lt;img aeskey="2e478bbd18524600958f48735300ca28" encryver="1" cdnthumbaeskey="2e478bbd18524600958f48735300ca28" cdnthumburl="3050020100044930470201000204d0f12b8a02033d14b9020491e503b702045972b0650425617570696d675f646636383432346131363537303738655f313530303638383439303032340201000201000400" cdnthumblength="17648" cdnthumbheight="120" cdnthumbwidth="120" cdnmidheight="0" cdnmidwidth="0" cdnhdheight="0" cdnhdwidth="0" cdnmidimgurl="3050020100044930470201000204d0f12b8a02033d14b9020491e503b702045972b0650425617570696d675f646636383432346131363537303738655f313530303638383439303032340201000201000400" length="55187" cdnbigimgurl="3050020100044930470201000204d0f12b8a02033d14b9020491e503b702045972b0650425617570696d675f646636383432346131363537303738655f313530303638383439303032340201000201000400" hdlength="40226" md5="3269bb875660457e53c87d664581a9a3" /&gt;<br/>&lt;/msg&gt;<br/>] MessageType =[3] UserID = [2]
I0722 10:30:42.245862    8955 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "6973942428068339120",
"LocalID": "15006906420000"
}
]
I0722 10:30:42.245968    8955 session.go:486] >>> [SendWelComeMessage] Auto reply from [2] to [刘斯科菲尔德] text = [你好朋友]
I0722 10:30:42.830591    8955 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_548a395b0cfef84cd64d4a15f5b18854fc673009db0ca7bddec1c8a6210848122f185b8daa509f880c93239ea772797082300fe4d48b352f0dd706790613ca949c63378c3f4b0f7a8cb55ecebb786076ec82d01f4a8d02a532ee1991865bd722b1ff95127b2c3622de745e2773d2b40bd27a951ebfc69e730a489a018900065f4029a62b28a845a29f4865246fc702346f426261afe39a3082632d8d06c99b137739a352b4c33b87d01de608deda5c6ee2bbb49ef97fe1ab14b2870b0a4c2b9c9ca3d3d17de9966a1c3a5c24433e6dab80a374b4a64c0c9623c99392244dbf43978fe9ae3555734c257b65cd86e432d5e012fd4740ee0013a5b78b91738dfcdc368aae0fef3475e28824fa28a8f634d1f190eeb20deedb5b55b999e2a1ac4f6afc18334effa397eff6ed16dc1e5c2cb65d2fa4905b23f96dddc087aa13b955a9",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 10:30:43.059176    8955 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "3738439853341823168",
"LocalID": "15006906420000"
}
]
I0722 10:30:43.059264    8955 session.go:491] >>> [SendWelComeMessage] Auto reply from [2] to [刘斯科菲尔德] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 10:31:13.414260    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
I0722 10:31:34.593507    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
I0722 10:31:40.923358    8955 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "8289788327119953814",
"LocalID": "15006907000000"
}
]
I0722 10:31:40.923449    8955 session.go:486] >>> [SendWelComeMessage] Auto reply from [2] to [文件传输助手] text = [你好朋友]
I0722 10:31:41.420532    8955 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_548a395b0cfef84cd64d4a15f5b18854fc673009db0ca7bddec1c8a6210848122f185b8daa509f880c93239ea772797082300fe4d48b352f0dd706790613ca949c63378c3f4b0f7a8cb55ecebb786076ec82d01f4a8d02a532ee1991865bd722b1ff95127b2c3622de745e2773d2b40bd27a951ebfc69e730a489a018900065f4029a62b28a845a29f4865246fc702346f426261afe39a3082632d8d06c99b137739a352b4c33b87d01de608deda5c6ee2bbb49ef97fe1ab14b2870b0a4c2b9c9ca3d3d17de9966a1c3a5c24433e6dab80a374b4a64c0c9623c99392244dbf43978fe9ae3555734c257b65cd86e432d5e012fd4740ee0013a5b78b91738dfcdc368aae0fef3475e28824fa28a8f634d1f190eeb20deedb5b55b999e2a1ac4f6afc18334effa397eff6ed16dc1e5c2cb65d2fa4905b23f96dddc087aa13b955a9",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 10:31:41.613877    8955 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "3140201480682195542",
"LocalID": "15006907010000"
}
]
I0722 10:31:41.613966    8955 session.go:491] >>> [SendWelComeMessage] Auto reply from [2] to [文件传输助手] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 10:31:47.341446    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
I0722 10:32:57.195451    8955 session.go:304] >>> [Serve] FromUser = [fmessage] Message Content = [&lt;msg fromusername="Kristd" encryptusername="v1_9873e527c4c8e9807aa83b357ae4c2f437b28d72452b11d8da7c6627e67cffa7@stranger" fromnickname="TJ" content="HK"  shortpy="TJ" imagestatus="3" scene="6" country="CN" province="Guangdong" city="Zhuhai" sign="" percard="1" sex="1" alias="" weibo="" weibonickname="" albumflag="3" albumstyle="0" albumbgimgid="" snsflag="49" snsbgimgid="http://mmsns.qpic.cn/mmsns/0I4HOdQXxYxIn6sHv7viapialFzJjFjGEyRHbDa1siafT916lHXxbWdpg/0" snsbgobjectid="11493203140388392974" mhash="5de2ae1dbb2e591dd8807616216d42e3" mfullhash="5de2ae1dbb2e591dd8807616216d42e3" bigheadimgurl="http://wx.qlogo.cn/mmhead/ver_1/0HTM0ibOFQN5AoLzrFgxAiapdbHFysQkK0SeX2urGFlgPJebM1vFFyXsJkFlJUJG65bCP0uVvHvyJpzVHO4cY6VA/0" smallheadimgurl="http://wx.qlogo.cn/mmhead/ver_1/0HTM0ibOFQN5AoLzrFgxAiapdbHFysQkK0SeX2urGFlgPJebM1vFFyXsJkFlJUJG65bCP0uVvHvyJpzVHO4cY6VA/132" ticket="v2_2c423c79785756a8378f7470aa2acb66fd2cab30d698d5673f91b599dcf198d1508361400906773a6989bba8f198af93@stranger" opcode="2" googlecontact="" qrticket="" chatroomusername="" sourceusername="" sourcenickname=""&gt;&lt;brandlist count="0" ver="654025187"&gt;&lt;/brandlist&gt;&lt;/msg&gt;] MessageType =[37] UserID = [2]
I0722 10:34:07.576586    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
I0722 10:34:18.989889    8955 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "6022579657589474030",
"LocalID": "15006908580000"
}
]
I0722 10:34:18.989969    8955 session.go:486] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] text = [你好朋友]
I0722 10:34:19.430812    8955 webwxapi.go:239] >>> [WebWxSendMsg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "5282716058337500532",
"LocalID": "15006908590000"
}
]
I0722 10:34:19.430894    8955 session.go:486] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] text = [你好朋友]
I0722 10:34:19.582051    8955 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_548a395b0cfef84cd64d4a15f5b18854fc673009db0ca7bddec1c8a6210848122f185b8daa509f880c93239ea772797082300fe4d48b352f0dd706790613ca949c63378c3f4b0f7a8cb55ecebb786076ec82d01f4a8d02a532ee1991865bd722b1ff95127b2c3622de745e2773d2b40bd27a951ebfc69e730a489a018900065f4029a62b28a845a29f4865246fc702346f426261afe39a3082632d8d06c99b137739a352b4c33b87d01de608deda5c6ee2bbb49ef97fe1ab14b2870b0a4c2b9c9ca3d3d17de9966a1c3a5c24433e6dab80a374b4a64c0c9623c99392244dbf43978fe9ae3555734c257b65cd86e432d5e012fd4740ee0013a5b78b91738dfcdc368aae0fef3475e28824fa28a8f634d1f190eeb20deedb5b55b999e2a1ac4f6afc18334effa397eff6ed16dc1e5c2cb65d2fa4905b23f96dddc087aa13b955a9",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 10:34:19.820802    8955 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MsgID": "4692647218061270396",
"LocalID": "15006908590000"
}
]
I0722 10:34:19.820925    8955 session.go:491] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 10:34:19.851822    8955 webwxapi.go:336] >>> [WebWxUploadMedia] http response body = [{
"BaseResponse": {
"Ret": 0,
"ErrMsg": ""
}
,
"MediaId": "@crypt_59f4ed29_548a395b0cfef84cd64d4a15f5b18854fc673009db0ca7bddec1c8a6210848122f185b8daa509f880c93239ea772797082300fe4d48b352f0dd706790613ca949c63378c3f4b0f7a8cb55ecebb786076ec82d01f4a8d02a532ee1991865bd722b1ff95127b2c3622de745e2773d2b40bd27a951ebfc69e730a489a018900065f4029a62b28a845a29f4865246fc702346f426261afe39a3082632d8d06c99b137739a352b4c33b87d01de608deda5c6ee2bbb49ef97fe1ab14b2870b0a4c2b9c9ca3d3d17de9966a1c3a5c24433e6dab80a374b4a64c0c9623c99392244dbf43978fe9ae3555734c257b65cd86e432d5e012fd4740ee0013a5b78b91738dfcdc368aae0fef3475e28824fa28a8f634d1f190eeb20deedb5b55b999e2a1ac4f6afc18334effa397eff6ed16dc1e5c2cb65d2fa4905b23f96dddc087aa13b955a9",
"StartPos": 115267,
"CDNThumbImgHeight": 56,
"CDNThumbImgWidth": 100
}
]
I0722 10:34:20.026670    8955 webwxapi.go:397] >>> [WebWxSendMsgImg] http response body = [{
"BaseResponse": {
"Ret": -1,
"ErrMsg": ""
}
,
"MsgID": "0",
"LocalID": "15006908590000"
}
]
E0722 10:34:20.026749    8955 session.go:105] [SendImage] Send image failed, err = <nil>
I0722 10:34:20.027973    8955 session.go:491] >>> [SendWelComeMessage] Auto reply from [2] to [TJ] image = [http://weixin.xoyo.com/award/images/logo.png]
I0722 10:34:39.510749    8955 session.go:304] >>> [Serve] FromUser = [@1af56e5f9d1d5bcaf9fc70eb71f0412a] Message Content = [] MessageType =[51] UserID = [2]
